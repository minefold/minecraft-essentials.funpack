#!/usr/bin/env ruby
$:.unshift File.expand_path('../../lib', __FILE__)

require 'json'
require 'bundler/setup'
require 'minecraft_instance'

minecraft = MinecraftInstance.new('.')
abort JSON.dump(failed: "unrecognised minecraft world") unless minecraft.valid?

minecraft.prepare!
minecraft = MinecraftInstance.new('.')

puts minecraft.import_json([
  'ops.txt',
  'server.properties',
  'white-list.txt',
  'plugins',
  'bukkit.yml',
  'permissions.yml',
])